<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1,user-scalable=0"/>
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	<link rel="manifest" href="manifest.json">
	<title>Cheesy Pursuit</title>
	<style>

		body{
			zoom: 200%;
			touch-action: pan-y
		}

		html {
			-ms-touch-action: manipulation;
			touch-action: manipulation;
		}


		.only_mobile{
			display: none ;
		}

		@media (max-device-width: 1024px) {

			.only_mobile{
				display:inline-block;
			}
		  body{
		  			zoom: 250%;
		  }
		}
		@media (max-device-width: 640px) {
			.only_mobile{
				display:inline-block;
			}
		 body{
		 	  			zoom: 120%;
		 	  }
		}
		@media (max-device-width: 540px) {
			.only_mobile{
				display:inline-block;
			}
		 /*Smaller and smaller...*/
		}
		@media (max-device-width: 320px) {
			.only_mobile{
				display:inline-block;
			}
		   body{
		 	  			zoom: 100%;
		 	  }
		}

		#pane {
		
		  margin-top: 5px;
		  text-align: center;
		  
		}

		#mouse {
		  min-width: 32px;
		  min-height: 32px;
		  background-color: black;
		  border: 2px solid red;
		}
		.box{
			position:relative;
/*			min-height:32px;
			min-width:32px;*/
			min-height: 40px;
			min-width: 40px;
			display:inline-block;
			margin:0px;
			padding:0px;
			background-color: #332535;
			background-color: #c0c0c0;
			font-size: 0;
			margin-top:-5px;

			/*border: 0.3px solid #909090;*/
		}

		.score{
			font-size:16px;
			margin-bottom:10px;
		}

		.box img{
			position: absolute;
	    left: 25%;
	    top: 25%;
		}

		.top{
			margin-left: 10px;
	    display: inline-block;
	    background-color: #352738;
	    padding: 5px;
	    min-width: 10%;
	    text-align: center;
	    min-height: 10px;
	    border-radius: 5px;
	    color: white;


	    background-color: #c0c0c0;
	    color:black;


		}
		.cat{
			position:relative;
			z-index: 10;
		}
		.topContainer{
			width:100%;

		}
		.mouse-fliped{
			-webkit-transform: scaleX(-1);
			 transform: scaleX(-1);
		}
		body{
			background: antiquewhite;
			background: #291f2b;
			touch-action: manipulation;
		}
		/**
		 * CSS3 keyboard arrow keys
		 */

		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
			touch-action: manipulation;
			-webkit-user-select: none;
		}

	

		ul {
			list-style: none;
			position: relative;	
			width: 152px;
			height: 104px;
			left: 50%;
			top: 30%;
			left: 46%;
			margin-left: -76px;
			-webkit-user-select: none;
		}

		li {
			position: absolute;
			top: 56px;
			display: block;
			text-decoration: none;
			text-align: center;
			width: 60px;
			height: 60px;
			line-height: 40px;
			background-color: #f1f1f1;
			border: 1px solid #eee;
			border-radius: 8px;
			box-shadow: 0 6px 10px rgba(0,0,0,.3);
			animation-duration: 1.5s;
			animation-timing-function: linear;
			animation-iteration-count: infinite

		}

		li:nth-child(1) {
			top: 8px;
			left: 56px;
			animation-name: clickUp}

		li:nth-child(2) {
			left: 8px;
			left: -20px;
			top: 80px;
			
		}

		li:nth-child(3) {
			left: 56px;
			margin-top: 102px;
			animation-name: clickDown;
			animation-delay: .75s}

		li:nth-child(4) {
			left: 104px;
			left: 135px;
			top: 80px;
			
		}

/*
		@keyframes clickUp {
			0% {
				top: 8px;
				background-color: #f1f1f1;
				box-shadow: 0 6px 10px rgba(0,0,0,.3)}
			100% {
				top: 10px;
				background-color: #ebebeb;
				box-shadow: inset 0 0 40px 10px rgba(0,0,0,.02);
				box-shadow: 0 2px 4px rgba(0,0,0,.1)}
		}


		@keyframes clickDown {
			0% {
				top: 56px;
				background-color: #f1f1f1;
				box-shadow: 0 6px 10px rgba(0,0,0,.3)}
			100% {
				top: 58px;
				background-color: #ebebeb;
				box-shadow: inset 0 0 40px 10px rgba(0,0,0,.02);
				box-shadow: 0 2px 4px rgba(0,0,0,.1)}
			}*/


	


	</style>

</head>
 

<body>
	<audio id="myAudio">
	  <source src="sounds/win.wav" type="audio/wav">
	  Your browser does not support the audio element.
	</audio>

<div id="pane"></div>
<ul class="only_mobile" >
	<li onclick="simulateKey(38)">&#8593;</li>
	<li onclick="simulateKey(37)">&#8592;</li>
	<li onclick="simulateKey(40)">&#8595;</li>
	<li onclick="simulateKey(39)" >&#8594;</li>
</ul>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.0/anime.min.js"></script>
<script src="js/cheesy_pursuit.js"></script>

<style>
	/*	html,
		body {
		  position: fixed;
		  overflow: hidden;
		}*/
</style>
<script>
	// var container = document.body;

	//  container.addEventListener("touchstart", startTouch, false);
	//  container.addEventListener("touchmove", moveTouch, false);

	//  // Swipe Up / Down / Left / Right
	//  var initialX = null;
	//  var initialY = null;

	//  function startTouch(e) {
	//    initialX = e.touches[0].clientX;
	//    initialY = e.touches[0].clientY;
	//  };

	//  function moveTouch(e) {
	//    if (initialX === null) {
	//      return;
	//    }

	//    if (initialY === null) {
	//      return;
	//    }

	//    var currentX = e.touches[0].clientX;
	//    var currentY = e.touches[0].clientY;

	//    var diffX = initialX - currentX;
	//    var diffY = initialY - currentY;

	//    if (Math.abs(diffX) > Math.abs(diffY)) {
	//      // sliding horizontally
	// 		if (diffX > 0) {
	//        // swiped left
	//        simulateKey(37)
	      
	//      } else {
	//        // swiped right
	//        simulateKey(39)
	//      }  
	//    } else {
	//      // sliding vertically
	//      if (diffY > 0) {
	//        // swiped up
	//        simulateKey(38)
	//      } else {
	//        // swiped down
	//         simulateKey(40)
	//      }  
	//    }

	//    initialX = null;
	//    initialY = null;

	//    e.preventDefault();
	//  };
</script>
<script>

	// hack to stop double tap zoom 
	document.body.addEventListener("click", event => {});


	document.addEventListener("touchstart", event => {
	    if(event.touches.length > 1) {
	        event.preventDefault();
	        event.stopPropagation(); // maybe useless
	    }
	}, {passive: false});

</script>

<script type="text/javascript">

	// setTimeout(function(){
	// 	var el = document.querySelector('.cat-0-0');

	// 	var arr = [el]
	// 	for (var i = 1; i <= 6; i++) {
	// 		arr.push(`.cat-${i}-0`)
	// 	}
	// 	console.log("arr",arr)
	// 	anime({
	// 	  targets: arr,
	// 	  translateY: 150,
	// 	  easing: 'linear',
	// 	  duration: 3000
	// 	});

	// },1000)

</script>
<script>
	var game = new CheesyPursuit({
		"id":"#pane",
		"score":"",
		"speed":1000,
	})

	game.start()


</script>
	
</body>
</html>